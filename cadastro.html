<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" type="text/css" href="cadastro.css">

</head>
<body>

      <div class="logo">
        <img src="IMAGENS/logo_maior.png">
      </div>

      <div id="cadastro" class="submenu">  
        <form id="formCadastro">
          <h1> Crie sua conta </h1>
          
          <p class="form">
        </p>

        <p>
            
            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" maxlength="14" oninput="formatarCPF(this)" required>
            
            <script>
                function formatarCPF(input) {
                    let cpfLimpo = input.value.replace(/\D/g, "");
                    
                    if (cpfLimpo.length > 11) {
                        cpfLimpo = cpfLimpo.substring(0, 11);
                    }
            
                    let cpfFormatado = "";
            
                    if (cpfLimpo.length <= 3) {
                        cpfFormatado = cpfLimpo;
                    } else if (cpfLimpo.length <= 6) {
                        cpfFormatado = cpfLimpo.replace(/(\d{3})(\d{0,3})/, "$1.$2");
                    } else if (cpfLimpo.length <= 9) {
                        cpfFormatado = cpfLimpo.replace(/(\d{3})(\d{3})(\d{0,3})/, "$1.$2.$3");
                    } else {
                        cpfFormatado = cpfLimpo.replace(/(\d{3})(\d{3})(\d{3})(\d{0,2})/, "$1.$2.$3-$4");
                    }
            
                    input.value = cpfFormatado;
            
                    if (cpfLimpo.length >= 11) {
                        input.setCustomValidity(""); // CPF completo, sem erro de validação
                    } else {
                        input.setCustomValidity("Informe um CPF válido com 11 dígitos"); // Mensagem de erro de validação
                    }
                }
            </script>

            </p>
           
          </p>

        <p>
            <label for="nomeCompleto">Nome Completo:</label>
            <input type="text" id="nomeCompleto" name="nomeCompleto" oninput="validarNomeCompleto(this)" required>
            
            <script>
                function validarNomeCompleto(input) {
                    const nome = input.value;
                    
                    // Verificar se o nome contém apenas letras (a-zA-Z) e pelo menos um espaço em branco
                    const regex = /^[a-zA-Z]+ [a-zA-Z]+$/;
        
                    if (!regex.test(nome)) {
                        // Nome completo inválido
                        input.setCustomValidity("Por favor, insira um nome completo válido contendo apenas letras e pelo menos um espaço.");
                    } else {
                        // Nome completo válido
                        input.setCustomValidity("");
                    }
                }
            </script>
        </p>

        <p>
            <label for="sexo">Selecione o Sexo Biológico:</label>
    <select id="sexo" name="sexo" onblur="validarSelecao()">
        <option value="" disabled selected>Selecione o Sexo Biológico</option>
        <option value="masculino">Masculino</option>
        <option value="feminino">Feminino</option>
    </select>

    <script>
        function validarSelecao() {
            const sexo = document.getElementById("sexo").value;
            if (sexo === "") {
                alert("Por favor, selecione o sexo biológico.");
            }
        }
    </script>
          </p>

          <p>
           
           
            <label for="dataNascimento">Data de Nascimento:</label>
            <input type="text" id="dataNascimento" name="dataNascimento" placeholder="DD/MM/AAAA" required>
            
            <script>
                const dataNascimentoInput = document.getElementById("dataNascimento");
            
                dataNascimentoInput.addEventListener("input", function () {
                    let valor = this.value;
                    valor = valor.replace(/\D/g, ''); // Remover todos os caracteres não numéricos
            
                    if (valor.length > 2) {
                        valor = valor.substring(0, 2) + '/' + valor.substring(2);
                    }
                    if (valor.length > 5) {
                        valor = valor.substring(0, 5) + '/' + valor.substring(5, 9);
                    }
            
                    this.value = valor;
                });
            
                dataNascimentoInput.addEventListener("blur", function () {
                    const partesData = this.value.split('/');
                    if (partesData.length !== 3) {
                        alert("Por favor, insira uma data de nascimento válida.");
                        this.value = "";
                        return;
                    }
                    const dia = parseInt(partesData[0], 10);
                    const mes = parseInt(partesData[1], 10);
                    const ano = parseInt(partesData[2], 10);
            
                    const dataAtual = new Date();
                    const dataNascimento = new Date(ano, mes - 1, dia);
            
                    if (isNaN(dataNascimento.getTime()) || dataNascimento >= dataAtual || dia > 31 || dia < 1 || mes > 12 || mes < 1) {
                        alert("Por favor, insira uma data de nascimento válida.");
                        this.value = "";
                    }
                });
            </script>
            
            
</p>

          


        <p>
            <label for="email">Email:</label>
<input type="email" id="email" name="email" oninput="validarEmail(this)" required>

<script>
function validarEmail(input) {
    const email = input.value;

    // Expressão regular para validar o formato de email
    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

    if (regex.test(email)) {
        input.setCustomValidity(""); // Email válido, sem erro de validação
    } else {
        input.setCustomValidity("Informe um email válido"); // Mensagem de erro de validação
    }
}
</script>
        </p>
          

        


          

          <p>
            <label for="senha">Senha:</label>
            <input type="password" id="senha" name="senha" oninput="validarSenha(this)" required>
            
            <label for="confirmarSenha">Confirmar Senha:</label>
            <input type="password" id="confirmarSenha" name="confirmarSenha" oninput="validarSenha(this)" required>
            
            <script>
            function validarSenha(input) {
                const senha = document.getElementById("senha").value;
                const confirmarSenha = document.getElementById("confirmarSenha").value;
            
                if (senha === confirmarSenha) {
                    document.getElementById("senha").setCustomValidity(""); // Senhas iguais, sem erro de validação
                    document.getElementById("confirmarSenha").setCustomValidity(""); // Senhas iguais, sem erro de validação
                } else {
                    document.getElementById("senha").setCustomValidity("As senhas não coincidem"); // Mensagem de erro de validação para a senha
                    document.getElementById("confirmarSenha").setCustomValidity("As senhas não coincidem"); // Mensagem de erro de validação para a confirmação de senha
                }
            }
            </script>
          </p>

         

          <button type="submit" class="Cadastrar"><a href="login.html"></a>Cadastrar</button>

        </form>
      </div>
   
    
</body>
</html>